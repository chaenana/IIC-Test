<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css" />
    <title>Download File</title>
</head>
<body>

    <h1 class="title">AI R&D</h1>

    <!-- 햄버거 메뉴 -->
    <div class="hamburger-menu" onclick="toggleSidebar()">
        <div></div>
        <div></div>
        <div></div>
    </div>

    <!-- 사이드바 -->
    <div id="sidebar" class="sidebar">
        <span class="close-btn" onclick="closeSidebar()">×</span>
        <a href="javascript:void(0);" onclick="window.open('http://172.10.3.141:8188', '_blank')">COMFYUI_ROOM 1</a>
        <a href="javascript:void(0);" onclick="window.open('http://172.10.3.141:8189', '_blank')">COMFYUI_ROOM 2</a>
    </div>

    <!-- 메인 콘텐츠 -->
    <div class="grid-container">
        <div class="container" id="con1" onclick="openSidePanel('workflow1')">
            <img id="img_con1" src="http://via.placeholder.com/300x200" alt="Workflow Thumbnail">
            <button>Basic Work Flow with MetaData</button>
        </div>
        <div class="container" id="con2" onclick="openSidePanel('workflow2')">
            <img id="img_con2" src="http://via.placeholder.com/300x200" alt="Workflow Thumbnail">
            <button>Basic Work Flow with MetaData</button>
        </div>
        <div class="container" id="con3" onclick="openSidePanel('workflow3')">
            <img id="img_con3" src="http://via.placeholder.com/300x200" alt="Workflow Thumbnail">
            <button>Basic Work Flow with MetaData</button>
        </div>
    </div>

    <!-- 오른쪽에서 밀고 들어오는 패널 -->
    <div id="sidePanel">
        <h2>새로운 화면</h2>
        <p>여기는 오른쪽에서 밀고 들어오는 새로운 div입니다.</p>
        <button class="download_sidePanel" onclick="window.open('http://172.10.0.152:5000/sharing/sXxbg1Ioe','_blank')">
                Download WorkFlow
        </button>
        <button class="close-btn-sidePanel" onclick="closeSidePanel()">닫기</button>
        <img src="http://via.placeholder.com/600x400" class="sidePanel_Thumbs"> <!-- 이미지 중앙 정렬 -->

        <p class="Description_Detail" id="Description_Detail"></p> <!-- Description을 동적으로 삽입할 부분 -->
    </div>

    <!-- JavaScript로 사이드바 열고 닫기 -->
    <script>
        const csvData = [
            { id: 'workflow1', link: 'https://via.placeholder.com/300x200', description: 'Description for workflow1' },
            { id: 'workflow2', link: 'https://via.placeholder.com/300x200', description: 'Description for workflow2' },
            { id: 'workflow3', link: 'https://via.placeholder.com/300x200', description: 'Description for workflow3' }
        ];

        // CSV 데이터를 로드하여 Description과 이미지를 업데이트하는 함수
        function openSidePanel(workflowId) {
            // CSV 데이터에서 해당 ID 찾기
            const selectedData = csvData.find(item => item.id === workflowId);

            if (selectedData) {
                // sidePanel에 Description 업데이트
                document.getElementById('Description_Detail').innerText = selectedData.description;

                // con1, con2, con3의 이미지도 업데이트
                document.getElementById(`img_con1`).src = selectedData.link;
            }
            
            document.getElementById("sidePanel").classList.add("open");
            document.getElementById("sidebar").style.left = "-250px"; // 사이드바 닫기
            document.querySelector(".grid-container").style.marginLeft = "0"; // 그리드 원위치
        }

        // 사이드바 열기
        function toggleSidebar() {
            const sidebar = document.getElementById("sidebar");
            const gridContainer = document.querySelector(".grid-container");

            if (sidebar.style.left === "0px") {
                sidebar.style.left = "-250px"; // 사이드바 닫기
                gridContainer.style.marginLeft = "0"; // 그리드 원위치
            } else {
                sidebar.style.left = "0"; // 사이드바 열기
                gridContainer.style.marginLeft = "250px"; // 그리드 이동
            }
        }

        // 사이드바 닫기 (X 버튼)
        function closeSidebar() {
            document.getElementById("sidebar").style.left = "-250px"; // 사이드바 닫기
            document.querySelector(".grid-container").style.marginLeft = "0"; // 그리드 원위치
        }

        // 오른쪽에서 밀고 들어오는 패널 닫기
        function closeSidePanel() {
            document.getElementById("sidePanel").classList.remove("open");
        }
    </script>

</body>
</html>
